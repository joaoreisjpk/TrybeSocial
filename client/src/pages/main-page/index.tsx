import Head from 'next/head';
import { useRouter } from 'next/router';
import React, { useEffect } from 'react';
import Header from '../../components/Header';
import { useAuth } from '../../hooks/useAuth';

export default function MainPage() {
  const { authorized, email } = useAuth();
  const { replace } = useRouter();

  useEffect(() => {
    if (!authorized) replace('/login');
  }, [authorized, replace]);

  return (
    <div>
      <Head>
        <title>Main Page - Trybe Social</title>
        <meta name='description' content='Generated by create next app' />
        <link rel='icon' href='/favicon.ico' />
      </Head>
      <Header />
      <h1>Main Page</h1>
      <h2>Você está logado com o email: {email}</h2>
    </div>
  );
}
